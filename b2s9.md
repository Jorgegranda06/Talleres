# Taller Individual  3
## Reactive Stream

**Semana**: 9

**Objetivos**:

- Aplicar los conocimientos sobre Reactive Stream.
- Generar y procesar flujos de datos reactivos.



### DescripciÃ³n:

Resuelva los siguientes problemas.

### Problema 1
**SincronizaciÃ³n de Sensores**

DescripciÃ³n: Simula dos sensores que emiten valores periÃ³dicos:

- Sensor1: Rango [20Â°C, 30Â°C], cada 1 segundo.
- Sensor2: Rango [30Â°C, 40Â°C], cada 1.5 segundos.
- Usa zip para combinar los valores de ambos sensores en un solo flujo.
- DetÃ©n el flujo despuÃ©s de 10 pares de valores.
- Genera una alerta si la diferencia absoluta entre las lecturas de Sensor1 y Sensor2 es mayor a 5Â°C.
  

```mathematica
Sensor1: 22Â°C, Sensor2: 27Â°C, Difference: 5Â°C
Sensor1: 24Â°C, Sensor2: 34Â°C, Difference: 10Â°C
ğŸš¨ ALERT! Significant difference detected: 10Â°C
```
# Problema 1 - SincronizaciÃ³n de Sensores

## CÃ³digo
```scala
import rx.lang.scala.Observable
import scala.concurrent.duration._
import scala.util.Random

object Problema1 extends App {
  val random = new Random()

  // Sensor1: Temperatura 20Â°C - 30Â°C cada 1 segundo
  val sensor1 = Observable.interval(1.second)
    .map(_ => 20 + random.nextInt(11))

  // Sensor2: Temperatura 30Â°C - 40Â°C cada 1.5 segundos
  val sensor2 = Observable.interval(1500.milliseconds)
    .map(_ => 30 + random.nextInt(11))

  // Combinar con zip y tomar solo 10 pares
  sensor1.zip(sensor2)
    .take(10)
    .subscribe(
      onNext = pair => {
        val (temp1, temp2) = pair
        val difference = Math.abs(temp1 - temp2)

        println(f"Sensor1: ${temp1}Â°C, Sensor2: ${temp2}Â°C, Difference: ${difference}Â°C")

        if (difference > 5) {
          println(s"ğŸš¨ ALERT! Significant difference detected: ${difference}Â°C")
        }
        println()
      },
      onError = e => println(s"Error: ${e.getMessage}"),
      onCompleted = () => println("=== Problema 1 Completado ===")
    )

  Thread.sleep(18000)
}
```

### Problema 2
**Sistema de Alerta Complejo**

DescripciÃ³n: Simula tres sensores que emiten datos periÃ³dicos:

- Sensor1: Temperatura (20Â°C a 30Â°C).
- Sensor2: Humedad (40% a 60%).
- Sensor3: PresiÃ³n (950 hPa a 1050 hPa).
- Combina los datos de los tres sensores y detecta si alguna de las mÃ©tricas estÃ¡ fuera de rango.
- DetÃ©n el flujo despuÃ©s de 20 combinaciones.

```yaml
Temperature: 22Â°C, Humidity: 50%, Pressure: 970 hPa
Temperature: 25Â°C, Humidity: 42%, Pressure: 1055 hPa
ğŸš¨ ALERT! Pressure out of range: 1055 hPa
...
```
# Problema 2 - Sistema de Alerta Complejo

## CÃ³digo
```scala
import rx.lang.scala.Observable
import scala.concurrent.duration._
import scala.util.Random

object Problema2 extends App {
  val random = new Random()

  // Sensor1: Temperatura (20Â°C a 30Â°C)
  val sensor1 = Observable.interval(1.second)
    .map(_ => 20 + random.nextInt(11))

  // Sensor2: Humedad (40% a 60%)
  val sensor2 = Observable.interval(1.second)
    .map(_ => 40 + random.nextInt(21))

  // Sensor3: PresiÃ³n (950 hPa a 1050 hPa)
  val sensor3 = Observable.interval(1.second)
    .map(_ => 950 + random.nextInt(101))

  // Combinar los tres sensores con zip
  Observable.zip(sensor1, sensor2, sensor3)
    .take(20)
    .subscribe(
      onNext = data => {
        val (temp, humidity, pressure) = data

        println(f"Temperature: ${temp}Â°C, Humidity: ${humidity}%%, Pressure: ${pressure} hPa")

        var alert = false

        if (temp < 20 || temp > 30) {
          println(s"ğŸš¨ ALERT! Temperature out of range: ${temp}Â°C")
          alert = true
        }

        if (humidity < 40 || humidity > 60) {
          println(s"ğŸš¨ ALERT! Humidity out of range: ${humidity}%")
          alert = true
        }

        if (pressure < 950 || pressure > 1050) {
          println(s"ğŸš¨ ALERT! Pressure out of range: ${pressure} hPa")
          alert = true
        }

        if (!alert) {
          println("âœ… All metrics within normal range")
        }

        println()
      },
      onError = e => println(s"Error: ${e.getMessage}"),
      onCompleted = () => println("=== Problema 2 Completado ===")
    )

  Thread.sleep(22000)
}
```
### CalificaciÃ³n:

Para la calificaciÃ³n, se debe presentar el trabajo realizado a su tutor. Es necesario recalcar que la presentaciÃ³n se hace una Ãºnica vez, no existe la posibilidad de presentaciones adicionales con correcciones.

- 10 puntos si presenta en el horario de prÃ¡cticas y experimentaciÃ³n.
- 7 puntos presenta en el horario de tutorÃ­a

La hora mÃ¡xima de presentaciÃ³n serÃ¡ las 08h30
